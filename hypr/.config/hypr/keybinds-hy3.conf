# === KEYBINDINGS: HY3 PLUGIN
# This file contains hy3-specific keybindings
# Requires hy3 plugin to be loaded and enabled

# === KEYBINDINGS: VARIABLES
# https://i3wm.org/docs/userguide.html
$mod = SUPER
$terminal = kitty
# $terminal = ghostty --gtk-single-instance=true --quit-after-last-window-close=false --initial-window=false
$fileManager = nautilus
$browser = google-chrome
$menu = fuzzel
$screenshot = ~/.dotfiles/scripts/screenshot.sh
$picker = hyprpicker --autocopy --format=hex

# === KEYBINDINGS: LOCK
bind = $mod+SHIFT, X, exec, hyprlock

# === KEYBINDINGS: LIVE WINDOW INFO
bind = $mod+SHIFT, I, exec, hyprctl activewindow -j | wl-copy

# === KEYBINDINGS: PRINT
bind = , PRINT, exec, $screenshot -m window
bind = SHIFT, PRINT, exec, $screenshot -m region
bind = CTRL, PRINT, exec, $picker

# === KEYBINDINGS: MUSIC
bind = ,XF86AudioPlay, exec, playerctl play-pause
bind = ,XF86AudioStop, exec, playerctl -a stop
bind = ,XF86AudioNext, exec, playerctl next
bind = ,XF86AudioPrev, exec, playerctl previous

# === KEYBINDINGS: SOUND
bind = , XF86AudioRaiseVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ +5%
bind = , XF86AudioLowerVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ -5%
bind = , XF86AudioMicMute, exec, pactl set-source-mute @DEFAULT_SOURCE@ toggle
bind = , XF86AudioMute, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle

# === KEYBINDINGS: BRIGHTNESS
bind = , XF86MonBrightnessUp, exec, light -A 5
bind = , XF86MonBrightnessDown, exec, light -U 5

# === KEYBINDINGS: MOD (hy3-specific)
bind = $mod, W, hy3:changegroup, toggletab
bind = $mod, E, hy3:changegroup, opposite
bind = $mod, R, hy3:changefocus, raise
bind = $mod, A, submap, move
# bind = $mod, S, submap, resize
bind = $mod, D, exec, $menu
bind = $mod, F, fullscreen, 1
bind = $mod, B, exec, $browser
bind = $mod, M, exec, $fileManager
bind = $mod, RETURN, exec, $terminal
bind = $mod, SPACE, togglefloating

# === KEYBINDINGS: MOD+SHIFT (hy3-specific)
bind = $mod+SHIFT, W, exec, ~/.scripts/reload-waybar.sh
bind = $mod+SHIFT, Q, hy3:killactive
bind = $mod+SHIFT, E, exit
bind = $mod+SHIFT, R, hy3:changefocus, lower
bind = $mod+SHIFT, F, fullscreen, 0
bind = $mod+SHIFT, RETURN, exec, $terminal --class KittyFloating

# === KEYBINDINGS: RESIZE
submap = resize
binde = , H, resizeactive, -10 0
binde = , L, resizeactive, 10 0
binde = , K, resizeactive, 0 -10
binde = , J, resizeactive, 0 10
bind = , ESCAPE, submap, reset
bind = , RETURN, submap, reset
submap = reset

# === KEYBINDINGS: MOVE
submap = move
binde = , H, moveactive, -10 0
binde = , L, moveactive, 10 0
binde = , K, moveactive, 0 -10
binde = , J, moveactive, 0 10
bind = , ESCAPE, submap, reset
bind = , RETURN, submap, reset
submap = reset

# === KEYBINDINGS: MOUSE (hy3-specific)
bindm = $mod, mouse:272, movewindow
bindm = $mod+SHIFT, mouse:272, resizewindow
bindn = , mouse:272, hy3:focustab, mouse # focuses with cursor

# === KEYBINDINGS: TRACKBALL (Kensington SlimBlade Pro)
# All trackball buttons using default behavior

# === KEYBINDINGS: SCROLL WHEEL (Enhanced)
binde = $mod, mouse_up, workspace, -1  # Mod + scroll up -> Previous workspace
binde = $mod, mouse_down, workspace, +1  # Mod + scroll down -> Next workspace
binde = ALT, mouse_up, exec, pactl set-sink-volume @DEFAULT_SINK@ +2%  # Alt + scroll up -> Volume up
binde = ALT, mouse_down, exec, pactl set-sink-volume @DEFAULT_SINK@ -2%  # Alt + scroll down -> Volume down

# === KEYBINDINGS: SCRATCHPAD (hy3-specific)
bind = $mod, MINUS, togglespecialworkspace, scratchpad
bind = $mod+SHIFT, MINUS, hy3:movetoworkspace, special:scratchpad
bind = $mod+ALT, MINUS, exec, ~/.scripts/cycle-scratchpad-windows.sh

# === KEYBINDINGS: MOVE FOCUS (hy3-specific)
bind = $mod, H, hy3:movefocus, l, wrap
bind = $mod, L, hy3:movefocus, r, wrap
bind = $mod, K, hy3:movefocus, u, wrap
bind = $mod, J, hy3:movefocus, d, wrap

# === KEYBINDINGS: MOVE WINDOW (hy3-specific)
bind = $mod+SHIFT, H, hy3:movewindow, l, once
bind = $mod+SHIFT, L, hy3:movewindow, r, once
bind = $mod+SHIFT, K, hy3:movewindow, u, once
bind = $mod+SHIFT, J, hy3:movewindow, d, once

# === KEYBINDINGS: SWITCH TO WORKSPACE
bind = $mod, code:10, workspace, 01
bind = $mod, code:11, workspace, 02
bind = $mod, code:12, workspace, 03
bind = $mod, code:13, workspace, 04
bind = $mod, code:14, workspace, 05
bind = $mod, code:15, workspace, 06
bind = $mod, code:16, workspace, 07
bind = $mod, code:17, workspace, 08
bind = $mod, code:18, workspace, 09
bind = $mod, code:19, workspace, 10

# === KEYBINDINGS: MOVE ACTIVE TO WORKSPACE (hy3-specific)
bind = $mod+SHIFT, code:10, hy3:movetoworkspace, 01
bind = $mod+SHIFT, code:11, hy3:movetoworkspace, 02
bind = $mod+SHIFT, code:12, hy3:movetoworkspace, 03
bind = $mod+SHIFT, code:13, hy3:movetoworkspace, 04
bind = $mod+SHIFT, code:14, hy3:movetoworkspace, 05
bind = $mod+SHIFT, code:15, hy3:movetoworkspace, 06
bind = $mod+SHIFT, code:16, hy3:movetoworkspace, 07
bind = $mod+SHIFT, code:17, hy3:movetoworkspace, 08
bind = $mod+SHIFT, code:18, hy3:movetoworkspace, 09
bind = $mod+SHIFT, code:19, hy3:movetoworkspace, 10

# === KEYBINDINGS: TOGGLE WAYBAR
bind = CTRL, ESCAPE, exec, killall waybar || waybar

# === KEYBINDINGS: TOGGLE ARTIST MODE
bind = $mod+SHIFT, A, exec, ~/.scripts/toggle-tablet-mode.sh
